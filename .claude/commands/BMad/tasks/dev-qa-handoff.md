# Dev to QA Handoff Task

## Purpose

Standardized template and command structure for developers to signal story completion and request QA review. Ensures consistent handoff process with all necessary information for QA to perform comprehensive review.

## When to Use

Use this task when:
- All development tasks are complete
- All unit tests are passing
- Code is committed and pushed
- Story is ready for QA review

## Command Structure

### For Developer: Request QA Review

```bash
# Command to execute when dev completes implementation
@qa *review {story-id}
```

**Example:**
```bash
@qa *review story-001-cache-manager.md
# or
@qa *review 1.1
```

## Dev Handoff Checklist

Before requesting QA review, developer must ensure:

### ✅ Code Readiness
- [ ] All acceptance criteria implemented
- [ ] All tasks marked complete in story
- [ ] Code follows project standards
- [ ] Linting passes without errors
- [ ] No TODO comments or incomplete implementations

### ✅ Testing Readiness
- [ ] All unit tests passing (pytest)
- [ ] Test coverage meets requirements (>80%)
- [ ] No failing or skipped tests
- [ ] Tests run successfully in CI/CD pipeline
- [ ] Performance benchmarks meet requirements

### ✅ Documentation Readiness
- [ ] File List updated with all changes
- [ ] Code is well-documented with docstrings
- [ ] API documentation updated if applicable
- [ ] No hardcoded values or secrets

### ✅ Story Status Update
- [ ] Story status changed to "Review"
- [ ] Dev Agent Record completed
- [ ] Change Log updated
- [ ] All checkboxes in Definition of Done verified

## Handoff Template

When requesting QA review, include this information:

```markdown
## Dev → QA Handoff Request

**Story:** {story-id} - {story-title}
**Developer:** {dev-agent-name}
**Completion Date:** {YYYY-MM-DD}

### Implementation Summary

**Files Modified:** {count} files
- {file1} - {brief description of changes}
- {file2} - {brief description of changes}
- {file3} - {brief description of changes}

**Key Changes:**
- {Major architectural or functional changes}
- {New APIs or interfaces added}
- {Performance optimizations implemented}
- {Security measures added}

### Testing Results

**Unit Tests:** {passed}/{total} ✅
**Coverage:** {percentage}% ✅
**Performance Benchmarks:** {results} ✅

**Test Categories Covered:**
- [x] Unit tests for all new functions
- [x] Integration tests for API endpoints
- [x] Error handling and edge cases
- [x] Performance validation
- [x] Security validation

### Acceptance Criteria Verification

- [x] **AC1:** {acceptance-criteria-1} - ✅ Verified
- [x] **AC2:** {acceptance-criteria-2} - ✅ Verified
- [x] **AC3:** {acceptance-criteria-3} - ✅ Verified

### Known Issues/Limitations

**None identified** OR:
- {Issue 1}: {description and why acceptable}
- {Issue 2}: {description and mitigation plan}

### QA Review Request

Please perform comprehensive review including:
- Code quality assessment
- Test architecture validation
- Security review
- Performance verification
- Acceptance criteria validation

**Priority:** {High/Medium/Low}
**Risk Level:** {Low/Medium/High}
**Estimated Review Time:** {estimate}

---

*Generated by Dev Agent {dev-name} on {timestamp}*
```

## QA Review Preparation

### QA Agent Actions on Receipt

1. **Validate Handoff Completeness**
   - Check all required information provided
   - Verify story status is "Review"
   - Confirm tests are passing
   - Review file list for completeness

2. **Initial Assessment**
   ```bash
   # Quick validation before deep review
   @qa *nfr {story}     # Check non-functional requirements
   @qa *trace {story}   # Verify test coverage
   ```

3. **Comprehensive Review**
   ```bash
   # Full review process
   @qa *review {story}
   ```

## Success Criteria

### For Developer
- QA review request includes all required information
- Story meets definition of done requirements
- All tests passing and coverage adequate
- Code is production-ready

### For QA
- Clear understanding of what was implemented
- All necessary context provided
- Can proceed directly to comprehensive review
- No need to request additional information

## Integration Points

### Story File Updates
The dev handoff template integrates with existing story structure:

```markdown
## Dev Agent Record

### Completion Notes List
- {timestamp}: Dev → QA handoff completed
- All acceptance criteria verified
- Testing results: {passed}/{total} tests passing
- Code review: Ready for QA assessment

### File List
**Modified Files:**
- {file1} - {description}
- {file2} - {description}

**New Files:**
- {file3} - {description}
- {test-file} - {description}
```

### QA Results Section
QA will populate this section after review:

```markdown
## QA Results

### {timestamp} {qa-agent-name} - Comprehensive Review
- **Decision:** {PASS/CONCERNS/FAIL}
- **Findings:** {detailed assessment}
- **Gate Status:** {gate-file-reference}
```

## Automation Opportunities

### Future Enhancements
- **Automated Handoff Generation**: Dev agent auto-generates handoff template
- **Handoff Validation**: Check completeness before allowing QA request
- **Integration Testing**: Auto-run integration tests during handoff
- **Documentation Sync**: Auto-update API docs from code changes

## Troubleshooting

### Common Issues

**Missing Test Results:**
```
Error: Cannot request QA review - tests not passing
Solution: Fix failing tests and re-run test suite
```

**Incomplete File List:**
```
Warning: File List appears incomplete
Solution: Update File List with all modified/new files
```

**Story Status Incorrect:**
```
Error: Story status must be 'Review' for QA handoff
Solution: Change status to 'Review' in story file
```

## Best Practices

### For Developers
- Always run full test suite before requesting QA
- Provide detailed change descriptions in handoff
- Highlight any known limitations or concerns
- Ensure all acceptance criteria are demonstrably met

### For QA
- Use provided handoff information to focus review
- Request clarification if handoff is incomplete
- Document any additional testing performed
- Provide clear, actionable feedback

## Command Reference

| Command | Purpose | When to Use |
|---------|---------|-------------|
| `@dev *develop-story {story}` | Complete implementation | When dev starts work |
| `@qa *review {story}` | Request comprehensive QA review | When dev completes all tasks |
| `@qa *gate {story}` | Update gate status after fixes | When addressing QA feedback |

## Process Flow Diagram

```mermaid
graph TD
    A[Dev: Complete Implementation] --> B[Dev: Run Tests]
    B --> C[Dev: Update Story Status to 'Review']
    C --> D[Dev: Generate Handoff Template]
    D --> E[Dev: @qa *review {story}]
    E --> F[QA: Validate Handoff]
    F --> G[QA: Perform Comprehensive Review]
    G --> H[QA: Update Story with Results]
    H --> I[QA: Create Gate File]
```
